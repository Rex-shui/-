#### 处理机调度

1. 衡量标准
2. 典型调度算法



#### 衡量标准

1. CPU利用率
2. 系统吞吐量
   * 单位时间内CPU完成作业的数量
3. 周转时间
   * 周转时间 = 作业完成时间 - 作业提交时间
   * 平均周转时间
   * 带权周转时间 = 作业周转时间 / 作业实际运行时间
   * 平均带权周转时间
4. 等待时间
   * 进程处于等处理机状态的时间之和
5. 响应时间
   * 用户提交请求到系统首次产生响应所用的时间



#### 典型调度算法

1. 先来先服务（FCFS）调度算法（不可剥夺算法）

   例：现有四个作业，提交时间分别为8，8.4，8.8，9，运行时间依次是2，1，0.5，0.2

   | 作业号 | 提交时间 | 运行时间 | 开始时间 | 等待时间 | 完成时间 | 周转时间 | 带权周转 |
   | :----: | :------: | :------: | :------: | :------: | :------: | :------: | :------: |
   |   1    |    8     |    2     |    8     |    0     |    10    |    2     |    1     |
   |   2    |   8.4    |    1     |    10    |   1.6    |    11    |   2.6    |   2.6    |
   |   3    |   8.8    |   0.5    |    11    |   2.2    |   11.5   |   2.7    |   5.4    |
   |   4    |    9     |   0.2    |   11.5   |   2.5    |   11.7   |   2.7    |   13.5   |

   平均等待时间 t = 1.575

   平均周转时间 T = 2.5

   平均带权周转时间 W = 5.625

2. 短作业优先（SJF）调度算法（不可剥夺算法）

   | 作业号 | 提交时间 | 运行时间 | 开始时间 | 等待时间 | 完成时间 | 周转时间 | 带权周转 |
   | :----: | :------: | :------: | :------: | :------: | :------: | :------: | :------: |
   |   1    |    8     |    2     |    8     |    0     |    10    |    2     |    1     |
   |   2    |   8.4    |    1     |   10.7   |   2.3    |   11.7   |   3.3    |   3.3    |
   |   3    |   8.8    |   0.5    |   10.2   |   1.4    |   10.7   |   1.9    |   3.8    |
   |   4    |    9     |   0.2    |    10    |    1     |   10.2   |   1.2    |    6     |

   对长作业不利；未考虑作业的紧迫程度；作业的长短由用户估计；

3. 优先级调度算法

   * 非剥夺式优先级调度算法
   * 剥夺式优先级调度算法
   * 优先级分为静态优先级和动态优先级
   * 设置优先级：系统进程 > 用户进程；交互型进程 > 非交互型进程；I/O型进程 > 计算型进程

4. 高响应比优先调度算法
   $$
   响应比 R_p = \frac{等待时间 + 要求服务时间}{要求服务时间}
   $$

5. 时间片轮转调度算法

6. **多级反馈队列调度算法**

   1. 设置多个就绪队列，赋予不同的优先级，第一级的优先级最高
   2. 各级队列中进程执行时间片的大小各不相同。优先级越高的队列执行时间片越小
   3. 新进程进入内存放入第一级队列的末尾，FCFS原则等待调度，时间片用尽降级到下一级队列末尾
   4. 当第1～i级队列为空时，才会调度 i+1 级队列中的进程运行，此时新进程进入会抢占处理机





---



